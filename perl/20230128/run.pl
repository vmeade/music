use MIDI;
#use strict;
#use warnings;
my @events = (  ['set_tempo', 0, 2000]  );

@note=( 45, 45, 80, 90, 45, 45, 90,
        30, 36, 39, 90, 90, 40, 54,
        45, 45, 80, 90, 45, 40, 90,
        00, 70, 00, 00, 70, 72, 00,
        80, 00, 70, 90, 45, 40, 54,
        00, 70, 00, 90, 90, 45, 00,
        35, 36, 70,100, 70, 40, 45,
       100, 39, 00, 70, 70, 72, 00);
@vel=( 30, 90, 60, 30, 30, 90, 60,
       30, 90, 60, 30, 30, 90, 60,
       30, 90, 60, 30, 30, 90, 60,
       45, 40, 45, 40, 60, 90, 45,
       30, 80, 60, 30, 30, 30, 60,
       30, 40, 60, 60, 60, 90, 45,
      100,110, 40, 30, 60, 90, 60);

for (my$j=0;$j<@note;$j++){ 
	push @events2,
	['note_on' , 90,  60, $note[$j], $vel[$j%7]],
	['note_off',  6,  60, $note[$j], $vel[$j%7]];
}

my $track2 = MIDI::Track->new({ 'events' => \@events2 });
my $opus2 = MIDI::Opus->new(
 { 'format' => 0, 'ticks' => 400, 'tracks' => [ $track2 ] } );
$opus2->write_to_file( 'output.mid' );
